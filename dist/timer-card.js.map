{"version":3,"file":"timer-card.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../src/timer-card.ts","../src/timer-card-editor.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.0\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.0\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.0\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","// timer-card.ts - FIXED VERSION\r\n\r\nimport { LitElement, html, css } from 'lit';\r\n\r\n// Ensure HomeAssistant and TimerCardConfig are recognized from global.d.ts\r\n\r\nconst DOMAIN = \"simple_timer\";\r\nconst CARD_VERSION = \"1.0.5\";\r\nconst DEFAULT_TIMER_BUTTONS = [15, 30, 60, 90, 120, 150]; // Default for new cards only\r\n\r\nconsole.info(\r\n  `%c TIMER-CARD %c v${CARD_VERSION} `,\r\n  'color: orange; font-weight: bold; background: black',\r\n  'color: white; font-weight: bold; background: dimgray',\r\n);\r\n\r\nclass TimerCard extends LitElement {\r\n  static get properties() {\r\n    return {\r\n      hass: { type: Object },\r\n      _config: { type: Object },\r\n      _timeRemaining: { state: true },\r\n      _entitiesLoaded: { state: true },\r\n      _effectiveSwitchEntity: { state: true },\r\n      _effectiveSensorEntity: { state: true },\r\n    };\r\n  }\r\n\r\n  hass?: HomeAssistant;\r\n  _config?: TimerCardConfig;\r\n\r\n  _countdownInterval: number | null = null;\r\n  _liveRuntimeSeconds: number = 0;\r\n\r\n  _timeRemaining: string | null = null;\r\n\r\n  buttons: number[] = [];\r\n  _validationMessage: string | null = null;\r\n  _notificationSentForCurrentCycle: boolean = false;\r\n  _entitiesLoaded: boolean = false;\r\n\r\n  _effectiveSwitchEntity: string | null = null;\r\n  _effectiveSensorEntity: string | null = null;\r\n\r\n  static async getConfigElement(): Promise<HTMLElement> {\r\n    await import(\"./timer-card-editor.js\");\r\n    return document.createElement(\"timer-card-editor\");\r\n  }\r\n\r\n  static getStubConfig(hass: HomeAssistant): TimerCardConfig {\r\n    console.log(\"TimerCard: Generating stub config with hass object:\", hass);\r\n    let initialInstanceId: string | null = null;\r\n\r\n    // Find the first timer control sensor and use its entry_id\r\n    for (const entityId of Object.keys(hass.states)) {\r\n        const state = hass.states[entityId];\r\n        if (entityId.startsWith(\"sensor.\") &&\r\n            typeof state.attributes.entry_id === 'string' &&\r\n            typeof state.attributes.switch_entity_id === 'string') {\r\n            initialInstanceId = state.attributes.entry_id; // Use entry_id, not entity_id\r\n            console.info(`TimerCard: getStubConfig auto-selected first instance: '${initialInstanceId}' from sensor '${entityId}'`);\r\n            break;\r\n        }\r\n    }\r\n\r\n    return {\r\n      type: \"custom:timer-card\",\r\n      timer_instance_id: initialInstanceId, // This will now be explicitly set\r\n      timer_buttons: [...DEFAULT_TIMER_BUTTONS], // Use default buttons\r\n      card_title: \"Simple Timer\",\r\n      show_seconds: false\r\n    };\r\n  }\r\n\r\n  setConfig(cfg: TimerCardConfig): void {\r\n    this._config = {\r\n      type: cfg.type || \"custom:timer-card\",\r\n      timer_buttons: this._getValidatedTimerButtons(cfg.timer_buttons),\r\n      card_title: cfg.card_title || null,\r\n      show_seconds: cfg.show_seconds || false\r\n    };\r\n\r\n    if (cfg.timer_instance_id) {\r\n        this._config.timer_instance_id = cfg.timer_instance_id;\r\n    }\r\n    if (cfg.entity) {\r\n        this._config.entity = cfg.entity;\r\n    }\r\n    if (cfg.sensor_entity) {\r\n        this._config.sensor_entity = cfg.sensor_entity;\r\n    }\r\n    if (cfg.notification_entity) {\r\n        this._config.notification_entity = cfg.notification_entity;\r\n    }\r\n\r\n    // Set buttons from validated config - could be empty array\r\n    this.buttons = [...this._config.timer_buttons];\r\n\r\n    this._liveRuntimeSeconds = 0;\r\n    this._notificationSentForCurrentCycle = false;\r\n\r\n    this._effectiveSwitchEntity = null;\r\n    this._effectiveSensorEntity = null;\r\n    this._entitiesLoaded = false;\r\n    console.log(`TimerCard: setConfig completed. Configured instance ID: ${this._config.timer_instance_id}, Buttons: ${this.buttons.length}, Show seconds: ${this._config.show_seconds}`);\r\n  }\r\n\r\n  /**\r\n   * 🔧 FIX: Validation logic that allows empty timer buttons (optional)\r\n   */\r\n  _getValidatedTimerButtons(configButtons: any): number[] {\r\n    let validatedTimerButtons: number[] = [];\r\n    this._validationMessage = null;\r\n\r\n    // Case 1: configButtons is a valid array (could be empty)\r\n    if (Array.isArray(configButtons)) {\r\n        const invalidValues: any[] = [];\r\n\r\n        configButtons.forEach(val => {\r\n            const numVal = Number(val);\r\n            if (Number.isInteger(numVal) && numVal > 0 && numVal <= 1000) {\r\n                validatedTimerButtons.push(numVal);\r\n            } else {\r\n                invalidValues.push(val);\r\n            }\r\n        });\r\n\r\n        // Show warning if there were invalid values\r\n        if (invalidValues.length > 0) {\r\n            this._validationMessage = `Invalid timer values ignored: ${invalidValues.join(', ')}. Only positive integers up to 1000 are allowed.`;\r\n        }\r\n\r\n        validatedTimerButtons.sort((a, b) => a - b);\r\n        console.log(`TimerCard: Using ${validatedTimerButtons.length} timer buttons from config:`, validatedTimerButtons);\r\n        return validatedTimerButtons; // Could be empty array - that's OK!\r\n    }\r\n\r\n    // Case 2: configButtons is undefined/null - return empty array\r\n    // When property is deleted from YAML, it should result in no buttons\r\n    if (configButtons === undefined || configButtons === null) {\r\n        console.log(`TimerCardEditor: No timer_buttons in config, using empty array (no timer buttons)`);\r\n        return [];\r\n    }\r\n\r\n    // Case 3: configButtons is not an array - treat as invalid, use empty\r\n    console.warn(`TimerCard: Invalid timer_buttons type (${typeof configButtons}):`, configButtons, `- using empty array`);\r\n    this._validationMessage = `Invalid timer_buttons configuration. Expected array, got ${typeof configButtons}.`;\r\n    return []; // Return empty array for invalid non-array values\r\n  }\r\n\r\n  _determineEffectiveEntities(): void {\r\n    let currentSwitch: string | null = null;\r\n    let currentSensor: string | null = null;\r\n    let entitiesAreValid = false;\r\n\r\n    if (!this.hass || !this.hass.states) {\r\n        this._entitiesLoaded = false;\r\n        return;\r\n    }\r\n\r\n    if (this._config?.timer_instance_id) {\r\n        const targetEntryId = this._config.timer_instance_id;\r\n        const allSensors = Object.keys(this.hass.states).filter(entityId => entityId.startsWith('sensor.'));\r\n        const instanceSensor = allSensors.find(entityId => {\r\n            const state = this.hass!.states[entityId];\r\n            return state.attributes.entry_id === targetEntryId &&\r\n                   typeof state.attributes.switch_entity_id === 'string';\r\n        });\r\n\r\n        if (instanceSensor) {\r\n            const sensorState = this.hass.states[instanceSensor];\r\n            currentSensor = instanceSensor;\r\n            currentSwitch = sensorState.attributes.switch_entity_id as string | null;\r\n\r\n            if (currentSwitch && this.hass.states[currentSwitch]) {\r\n                entitiesAreValid = true;\r\n            } else {\r\n                console.warn(`TimerCard: Configured instance '${targetEntryId}' sensor '${currentSensor}' links to missing or invalid switch '${currentSwitch}'.`);\r\n            }\r\n        } else {\r\n            console.warn(`TimerCard: Configured timer_instance_id '${targetEntryId}' does not have a corresponding simple_timer sensor found.`);\r\n        }\r\n    }\r\n\r\n    if (!entitiesAreValid && this._config?.sensor_entity) {\r\n        const sensorState = this.hass.states[this._config.sensor_entity];\r\n        if (sensorState && typeof sensorState.attributes.entry_id === 'string' && typeof sensorState.attributes.switch_entity_id === 'string') {\r\n            currentSensor = this._config.sensor_entity;\r\n            currentSwitch = sensorState.attributes.switch_entity_id as string | null;\r\n            if (currentSwitch && this.hass.states[currentSwitch]) {\r\n                entitiesAreValid = true;\r\n                console.info(`TimerCard: Using manually configured sensor_entity: Sensor '${currentSensor}', Switch '${currentSwitch}'.`);\r\n            } else {\r\n                console.warn(`TimerCard: Manually configured sensor '${currentSensor}' links to missing or invalid switch '${currentSwitch}'.`);\r\n            }\r\n        } else {\r\n            console.warn(`TimerCard: Manually configured sensor_entity '${this._config.sensor_entity}' not found or missing required attributes.`);\r\n        }\r\n    }\r\n\r\n    if (!entitiesAreValid) {\r\n        const allSensors = Object.keys(this.hass.states).filter(entityId => entityId.startsWith('sensor.'));\r\n        const autoDetectedSensorKey = allSensors.find(entityId => {\r\n            const state = this.hass!.states[entityId];\r\n            return typeof state.attributes.entry_id === 'string' && typeof state.attributes.switch_entity_id === 'string';\r\n        });\r\n\r\n        if (autoDetectedSensorKey) {\r\n            const sensorState = this.hass.states[autoDetectedSensorKey];\r\n            currentSensor = autoDetectedSensorKey;\r\n            currentSwitch = sensorState.attributes.switch_entity_id as string | null;\r\n            if (currentSwitch && this.hass.states[currentSwitch]) {\r\n                entitiesAreValid = true;\r\n                console.info(`TimerCard: Auto-detected first instance: Sensor '${currentSensor}', Switch '${currentSwitch}'.`);\r\n            } else {\r\n                console.warn(`TimerCard: Auto-detected sensor '${currentSensor}' links to missing or invalid switch '${currentSwitch}'.`);\r\n            }\r\n        } else {\r\n            console.info(`TimerCard: No simple_timer sensor found for auto-detection.`);\r\n        }\r\n    }\r\n\r\n    if (this._effectiveSwitchEntity !== currentSwitch || this._effectiveSensorEntity !== currentSensor) {\r\n        this._effectiveSwitchEntity = currentSwitch;\r\n        this._effectiveSensorEntity = currentSensor;\r\n        this.requestUpdate();\r\n    }\r\n\r\n    this._entitiesLoaded = entitiesAreValid;\r\n  }\r\n\r\n  _getEntryId(): string | null {\r\n    if (!this._effectiveSensorEntity || !this.hass || !this.hass.states) {\r\n      console.error(\"Timer-card: _getEntryId called without a valid effective sensor entity.\");\r\n      return null;\r\n    }\r\n    const sensor = this.hass.states[this._effectiveSensorEntity];\r\n    if (sensor && sensor.attributes.entry_id) {\r\n      return sensor.attributes.entry_id;\r\n    }\r\n    console.error(\"Could not determine entry_id from effective sensor_entity attributes:\", this._effectiveSensorEntity);\r\n    return null;\r\n  }\r\n\r\n  _sendNotification(message: string): void {\r\n    if (!this.hass || !this.hass.callService || !this._config?.notification_entity || this._config.notification_entity === \"none_selected\") {\r\n      return;\r\n    }\r\n    const serviceParts = this._config.notification_entity.split('.');\r\n    const domain = serviceParts[0];\r\n    const service = serviceParts.slice(1).join('.');\r\n\r\n    this.hass.callService(domain, service, { message: message })\r\n      .catch(error => {\r\n        console.warn(\"Timer-card: Notification failed:\", error);\r\n      });\r\n  }\r\n\r\n  _startTimer(minutes: number): void {\r\n    if (!this._entitiesLoaded || !this.hass || !this.hass.callService) {\r\n        console.error(\"Timer-card: Cannot start timer. Entities not loaded or callService unavailable.\");\r\n        return;\r\n    }\r\n    const entryId = this._getEntryId();\r\n    if (!entryId) { console.error(\"Timer-card: Entry ID not found for starting timer.\"); return; }\r\n\r\n    const switchId = this._effectiveSwitchEntity!;\r\n\r\n    this.hass.callService(\"homeassistant\", \"turn_on\", { entity_id: switchId })\r\n      .then(() => {\r\n        this.hass!.callService(DOMAIN, \"start_timer\", { entry_id: entryId, duration: minutes });\r\n        this._sendNotification(`Timer was turned on for ${minutes} minutes`);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Timer-card: Error turning on switch or starting timer:\", error);\r\n      });\r\n    this._notificationSentForCurrentCycle = false;\r\n  }\r\n\r\n  _cancelTimer(): void {\r\n    if (!this._entitiesLoaded || !this.hass || !this.hass.callService) {\r\n        console.error(\"Timer-card: Cannot cancel timer. Entities not loaded or callService unavailable.\");\r\n        return;\r\n    }\r\n    const entryId = this._getEntryId();\r\n    if (!entryId) { console.error(\"Timer-card: Entry ID not found for cancelling timer.\"); return; }\r\n\r\n    const switchId = this._effectiveSwitchEntity!;\r\n\r\n    this.hass.callService(\"homeassistant\", \"turn_off\", { entity_id: switchId })\r\n      .then(() => {\r\n        this.hass!.callService(DOMAIN, \"cancel_timer\", { entry_id: entryId });\r\n        this._sendTimerFinishedNotification();\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Timer-card: Error turning off switch or cancelling timer:\", error);\r\n      });\r\n    this._notificationSentForCurrentCycle = false;\r\n  }\r\n\r\n  _togglePower(): void {\r\n    if (!this._entitiesLoaded || !this.hass || !this.hass.states || !this.hass.callService) {\r\n        console.error(\"Timer-card: Cannot toggle power. Entities not loaded or services unavailable.\");\r\n        return;\r\n    }\r\n    const switchId = this._effectiveSwitchEntity!;\r\n\r\n    const timerSwitch = this.hass.states[switchId];\r\n    if (!timerSwitch) {\r\n        console.warn(`Timer-card: Switch entity '${switchId}' not found during toggle.`);\r\n        return;\r\n    }\r\n\r\n    if (timerSwitch.state === 'on') {\r\n      this._cancelTimer();\r\n      console.log(`Timer-card: Manually turning off switch: ${switchId}`);\r\n    } else {\r\n      // Use generic HA service instead of domain-specific\r\n      this.hass.callService(\"homeassistant\", \"turn_on\", { entity_id: switchId })\r\n        .then(() => {\r\n            this._sendNotification(\"Timer started\");\r\n            console.log(`Timer-card: Manually turning on switch: ${switchId}`);\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Timer-card: Error manually turning on switch:\", error);\r\n        });\r\n      this._notificationSentForCurrentCycle = false;\r\n    }\r\n  }\r\n\r\n  _showMoreInfo(): void {\r\n    if (!this._entitiesLoaded || !this.hass) {\r\n        console.error(\"Timer-card: Cannot show more info. Entities not loaded.\");\r\n        return;\r\n    }\r\n    const sensorId = this._effectiveSensorEntity!;\r\n\r\n    const event = new CustomEvent(\"hass-more-info\", {\r\n      bubbles: true,\r\n      composed: true,\r\n      detail: { entityId: sensorId }\r\n    });\r\n    this.dispatchEvent(event);\r\n  }\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    this._determineEffectiveEntities();\r\n    this._updateLiveRuntime();\r\n    this._updateCountdown();\r\n  }\r\n\r\n  disconnectedCallback(): void {\r\n    super.disconnectedCallback();\r\n    this._stopCountdown();\r\n    this._stopLiveRuntime();\r\n  }\r\n\r\n  updated(changedProperties: Map<string | number | symbol, unknown>): void {\r\n    if (changedProperties.has(\"hass\") || changedProperties.has(\"_config\")) {\r\n        this._determineEffectiveEntities();\r\n        this._updateLiveRuntime();\r\n        this._updateCountdown();\r\n    }\r\n  }\r\n\r\n  _updateLiveRuntime(): void {\r\n    this._liveRuntimeSeconds = 0;\r\n  }\r\n\r\n  _stopLiveRuntime(): void {\r\n    this._liveRuntimeSeconds = 0;\r\n  }\r\n\r\n  _updateCountdown(): void {\r\n    if (!this._entitiesLoaded || !this.hass || !this.hass.states) {\r\n      this._stopCountdown();\r\n      return;\r\n    }\r\n    const sensor = this.hass.states[this._effectiveSensorEntity!];\r\n\r\n    if (!sensor || sensor.attributes.timer_state !== 'active') {\r\n      this._stopCountdown();\r\n      this._notificationSentForCurrentCycle = false;\r\n      return;\r\n    }\r\n\r\n    if (!this._countdownInterval) {\r\n        const rawFinish = sensor.attributes.timer_finishes_at;\r\n        if (rawFinish === undefined) {\r\n            console.warn(\"Timer-card: timer_finishes_at is undefined for active timer. Stopping countdown.\");\r\n            this._stopCountdown();\r\n            return;\r\n        }\r\n        const finishesAt = new Date(rawFinish).getTime();\r\n\r\n        const update = () => {\r\n          const now = new Date().getTime();\r\n          const remaining = Math.max(0, Math.round((finishesAt - now) / 1000));\r\n          this._timeRemaining = `${Math.floor(remaining / 60).toString().padStart(2, '0')}:${(remaining % 60).toString().padStart(2, '0')}`;\r\n\r\n          if (remaining === 0) {\r\n              this._stopCountdown();\r\n              if (!this._notificationSentForCurrentCycle) {\r\n                  const finalSensorState = this.hass!.states[this._effectiveSensorEntity!];\r\n                  const committedSeconds = parseFloat(finalSensorState.state as string) || 0;\r\n\r\n                  const totalMinutes = Math.round(committedSeconds / 60);\r\n                  const hours = Math.floor(totalMinutes / 60);\r\n                  const minutes = totalMinutes % 60;\r\n                  const formattedDailyUsage = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\r\n\r\n                  this._sendNotification(`Timer was turned off - daily usage ${formattedDailyUsage} (hh:mm)`);\r\n                  this._notificationSentForCurrentCycle = true;\r\n              }\r\n          }\r\n        };\r\n        this._countdownInterval = window.setInterval(update, 500);\r\n        update();\r\n    }\r\n  }\r\n\r\n  _stopCountdown(): void {\r\n    if (this._countdownInterval) {\r\n      window.clearInterval(this._countdownInterval);\r\n      this._countdownInterval = null;\r\n    }\r\n    this._timeRemaining = null;\r\n  }\r\n\r\n  _sendTimerFinishedNotification(): void {\r\n    if (!this._entitiesLoaded || !this.hass || !this.hass.states) return;\r\n\r\n    const sensor = this.hass!.states[this._effectiveSensorEntity!];\r\n    if (!sensor) return;\r\n\r\n    const committedSeconds = parseFloat(sensor.state as string) || 0;\r\n    const totalMinutes = Math.round(committedSeconds / 60);\r\n    const hours = Math.floor(totalMinutes / 60);\r\n    const minutes = totalMinutes % 60;\r\n    const formattedDailyUsage = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\r\n\r\n    this._sendNotification(`Timer finished – daily usage ${formattedDailyUsage} (hh:mm)`);\r\n  }\r\n\r\n  render() {\r\n    let message: string | null = null;\r\n    let isWarning = false;\r\n\r\n    if (!this.hass) {\r\n        message = \"Home Assistant object (hass) not available. Card cannot load.\";\r\n        isWarning = true;\r\n    } else if (!this._entitiesLoaded) {\r\n        if (this._config?.timer_instance_id) {\r\n            const configuredSensorState = Object.values(this.hass.states).find(\r\n                (state: HAState) => state.attributes.entry_id === this._config!.timer_instance_id && state.entity_id.startsWith('sensor.')\r\n            ) as HAState | undefined;\r\n\r\n            if (!configuredSensorState) {\r\n                message = `Timer Control Instance '${this._config.timer_instance_id}' not found. Please select a valid instance in the card editor.`;\r\n                isWarning = true;\r\n            } else if (typeof configuredSensorState.attributes.switch_entity_id !== 'string' || !(configuredSensorState.attributes.switch_entity_id && this.hass.states[configuredSensorState.attributes.switch_entity_id])) {\r\n                message = `Timer Control Instance '${this._config.timer_instance_id}' linked to missing or invalid switch '${configuredSensorState.attributes.switch_entity_id}'. Please check instance configuration.`;\r\n                isWarning = true;\r\n            } else {\r\n                message = \"Loading Timer Control Card. Please wait...\";\r\n                isWarning = false;\r\n            }\r\n        } else if (this._config?.sensor_entity) {\r\n            const configuredSensorState = this.hass.states[this._config.sensor_entity];\r\n            if (!configuredSensorState) {\r\n                message = `Configured Timer Control Sensor '${this._config.sensor_entity}' not found. Please select a valid instance in the card editor.`;\r\n                isWarning = true;\r\n            } else if (typeof configuredSensorState.attributes.switch_entity_id !== 'string' || !(configuredSensorState.attributes.switch_entity_id && this.hass.states[configuredSensorState.attributes.switch_entity_id])) {\r\n                message = `Configured Timer Control Sensor '${this._config.sensor_entity}' is invalid or its linked switch '${configuredSensorState.attributes.switch_entity_id}' is missing. Please select a valid instance.`;\r\n                isWarning = true;\r\n            } else {\r\n                message = \"Loading Timer Control Card. Please wait...\";\r\n                isWarning = false;\r\n            }\r\n        } else {\r\n            message = \"Select a Timer Control Instance from the dropdown in the card editor to link this card.\";\r\n            isWarning = false;\r\n        }\r\n    }\r\n\r\n    if (message) {\r\n      return html`<ha-card><div class=\"${isWarning ? 'warning' : 'placeholder'}\">${message}</div></ha-card>`;\r\n    }\r\n\r\n    const timerSwitch = this.hass!.states[this._effectiveSwitchEntity!];\r\n    const sensor = this.hass!.states[this._effectiveSensorEntity!];\r\n\r\n    const isOn = timerSwitch.state === 'on';\r\n    const isTimerActive = sensor.attributes.timer_state === 'active';\r\n    const timerDurationInMinutes = sensor.attributes.timer_duration || 0;\r\n    const isManualOn = isOn && !isTimerActive;\r\n\r\n    const committedSeconds = parseFloat(sensor.state as string) || 0;\r\n\r\n    let totalSecondsForDisplay = committedSeconds;\r\n\r\n    // Format time based on show_seconds setting\r\n    let formattedTime: string;\r\n    let runtimeLabel: string;\r\n\r\n    if (this._config?.show_seconds) {\r\n      // Show full HH:MM:SS format\r\n      const totalSecondsInt = Math.floor(totalSecondsForDisplay);\r\n      const hours = Math.floor(totalSecondsInt / 3600);\r\n      const minutes = Math.floor((totalSecondsInt % 3600) / 60);\r\n      const seconds = totalSecondsInt % 60;\r\n      formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n      runtimeLabel = \"Daily Usage (hh:mm:ss)\";\r\n    } else {\r\n      // Show HH:MM format (original behavior)\r\n      const totalMinutes = Math.floor(totalSecondsForDisplay / 60);\r\n      const hours = Math.floor(totalMinutes / 60);\r\n      const minutes = totalMinutes % 60;\r\n      formattedTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\r\n      runtimeLabel = \"Daily Usage (hh:mm)\";\r\n    }\r\n\r\n    const watchdogMessage = sensor.attributes.watchdog_message;\r\n\r\n    return html`\r\n      <ha-card>\r\n        ${this._config?.card_title ? html`<div class=\"card-title\">${this._config.card_title}</div>` : ''}\r\n        ${watchdogMessage ? html`\r\n          <div class=\"status-message warning watchdog-banner\">\r\n            <ha-icon icon=\"mdi:alert-outline\" class=\"status-icon\"></ha-icon>\r\n            <span class=\"status-text\">${watchdogMessage}</span>\r\n          </div>\r\n        ` : ''}\r\n        <div class=\"main-grid\">\r\n          <div class=\"button power-button ${isOn ? 'on' : ''}\" @click=${this._togglePower}><ha-icon icon=\"mdi:power\"></ha-icon></div>\r\n          <div class=\"button readonly\" @click=${this._showMoreInfo}>\r\n            <span class=\"daily-time-text ${this._config?.show_seconds ? 'with-seconds' : ''}\">${formattedTime}</span>\r\n            <span class=\"runtime-label\">${runtimeLabel}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"button-grid\">\r\n          ${this.buttons.length > 0 ? this.buttons.map(minutes => {\r\n            const isActive = isTimerActive && timerDurationInMinutes === minutes;\r\n            const isDisabled = isManualOn || (isTimerActive && !isActive);\r\n            return html`\r\n              <div class=\"button timer-button ${isActive ? 'active' : ''} ${isDisabled ? 'disabled' : ''}\" @click=${() => { if (isActive) this._cancelTimer(); else if (!isDisabled) this._startTimer(minutes); }}>\r\n                ${isActive && this._timeRemaining ? html`<span class=\"countdown-text\">${this._timeRemaining}</span>` : html`<div class=\"timer-button-content\"><span class=\"timer-button-value\">${minutes}</span><span class=\"timer-button-unit\">Min</span></div>`}\r\n              </div>\r\n            `;\r\n          }) : html`\r\n            <div class=\"no-timers-message\">\r\n              <ha-icon icon=\"mdi:timer-off-outline\"></ha-icon>\r\n              <span>No timer buttons configured</span>\r\n            </div>\r\n          `}\r\n        </div>\r\n        ${this._validationMessage ? html`\r\n          <div class=\"status-message warning\">\r\n            <ha-icon icon=\"mdi:alert-outline\" class=\"status-icon\"></ha-icon>\r\n            <span class=\"status-text\">${this._validationMessage}</span>\r\n          </div>\r\n        ` : ''}\r\n      </ha-card>\r\n    `;\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      :host { display: block; }\r\n      .ha-card {\r\n        padding: 0;\r\n      }\r\n      .card-title {\r\n        font-size: 1.2em;\r\n        font-weight: bold;\r\n        text-align: center;\r\n        padding: 12px;\r\n        background-color: var(--primary-color-faded, rgba(150, 210, 230, 0.2));\r\n        border-bottom: 1px solid var(--divider-color);\r\n        color: var(--primary-text-color);\r\n        border-radius: 12px 12px 0 0;\r\n        margin-bottom: 12px;\r\n        /* NEW: Added white-space property to preserve spaces within the title */\r\n        white-space: pre-wrap; /* This should fix the trimming for the div itself */\r\n        word-break: break-word; /* Ensure long words break */\r\n      }\r\n      .card-title pre { /* This pre tag is no longer needed if div handles white-space */\r\n        margin: 0;\r\n        padding: 0;\r\n        /* white-space: pre-wrap;  Removed as parent div should handle it */\r\n        font-family: inherit;\r\n        font-size: inherit;\r\n        color: inherit;\r\n      }\r\n      .placeholder { padding: 16px; background-color: var(--secondary-background-color); }\r\n      .warning { padding: 16px; color: white; background-color: var(--error-color); }\r\n      .main-grid, .button-grid { gap: 12px; padding: 12px; }\r\n      .main-grid { display: grid; grid-template-columns: 1fr 1fr; }\r\n      .button-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); padding-top: 0; }\r\n      .button {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 16px 8px;\r\n        background-color: var(--secondary-background-color);\r\n        border-radius: 12px;\r\n        cursor: pointer;\r\n        transition: background-color 0.2s, opacity 0.2s;\r\n        text-align: center;\r\n        -webkit-tap-highlight-color: transparent;\r\n        height: 100px;\r\n        box-sizing: border-box;\r\n      }\r\n      .button:hover { background-color: var(--primary-color-faded, #3a506b); }\r\n      .power-button {\r\n        font-size: 80px;\r\n        --mdc-icon-size: 80px;\r\n        color: white;\r\n        background-color: var(--error-color);\r\n      }\r\n      .power-button.on { background-color: var(--success-color); }\r\n      .readonly {\r\n        background-color: var(--card-background-color);\r\n        border: 1px solid var(--secondary-background-color);\r\n        line-height: 1.2;\r\n        cursor: default;\r\n      }\r\n      .active, .active:hover { background-color: var(--primary-color); color: white; }\r\n      .countdown-text { font-size: 28px; font-weight: bold; color: white; }\r\n      .daily-time-text {\r\n        font-size: 36px;\r\n        font-weight: bold;\r\n      }\r\n      /* Adjust font size when showing seconds to fit better */\r\n      .daily-time-text.with-seconds {\r\n        font-size: 28px;\r\n      }\r\n      .runtime-label { font-size: 14px; text-transform: uppercase; color: var(--secondary-text-color); margin-top: 2px; }\r\n      .timer-button-content { display: flex; flex-direction: column; align-items: center; justify-content: center; line-height: 1.1; }\r\n      .timer-button-value { font-size: 36px; font-weight: 500; color: var(--primary-text-color); }\r\n      .timer-button-unit { font-size: 14px; color: var(--secondary-text-color); }\r\n      .active .timer-button-value, .active .timer-button-unit { color: white; }\r\n      .disabled { opacity: 0.5; cursor: not-allowed; }\r\n      .disabled:hover { background-color: var(--secondary-background-color); }\r\n      .no-timers-message {\r\n        grid-column: 1 / -1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 24px;\r\n        color: var(--secondary-text-color);\r\n        font-style: italic;\r\n        gap: 8px;\r\n      }\r\n      .no-timers-message ha-icon {\r\n        --mdc-icon-size: 32px;\r\n        opacity: 0.6;\r\n      }\r\n      .status-message {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 8px 12px;\r\n        margin: 0 12px 12px 12px;\r\n        border-radius: 8px;\r\n        border: 1px solid var(--warning-color);\r\n        background-color: rgba(var(--rgb-warning-color), 0.1);\r\n      }\r\n      .status-icon { color: var(--warning-color); margin-right: 8px; }\r\n      .status-text { font-size: 14px; color: var(--primary-text-color); }\r\n\r\n      /* ▼▼▼ CHANGE #2: ADDED NEW CSS FOR THE FULL-WIDTH BANNER ▼▼▼ */\r\n      .watchdog-banner {\r\n        margin: 0 0 12px 0;\r\n        border-radius: 0;\r\n        grid-column: 1 / -1; /* Ensure it spans all columns if it were in a grid */\r\n      }\r\n      /* ▲▲▲ END OF CHANGES ▲▲▲ */\r\n\r\n      .status-message.warning {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 8px 12px;\r\n        margin: 0 12px 12px 12px;\r\n        border-radius: 8px;\r\n        border: 1px solid var(--warning-color);\r\n        background-color: rgba(var(--rgb-warning-color), 0.1);\r\n      }\r\n      .status-icon {\r\n        color: var(--warning-color);\r\n        margin-right: 8px;\r\n      }\r\n      .status-text {\r\n        font-size: 14px;\r\n        color: var(--primary-text-color);\r\n      }\r\n    `;\r\n  }\r\n}\r\ncustomElements.define(\"timer-card\", TimerCard);\r\n\r\nwindow.customCards = window.customCards || [];\r\nwindow.customCards.push({\r\n  type: \"timer-card\",\r\n  name: \"Simple Timer Card\",\r\n  description: \"A card for the Simple Timer integration.\",\r\n});","// timer-card-editor.ts - FIXED VERSION\r\n\r\nimport { LitElement, html, css } from 'lit';\r\n\r\n// Define necessary interfaces directly in this file for compilation robustness.\r\ninterface TimerCardConfig {\r\n  type: string;\r\n  timer_instance_id?: string | null;\r\n  entity?: string | null;\r\n  sensor_entity?: string | null;\r\n  timer_buttons: number[];\r\n  notification_entity?: string | null;\r\n  card_title?: string | null;\r\n  show_seconds?: boolean; // NEW: Option to show seconds in daily usage\r\n}\r\n\r\ninterface HAState {\r\n  entity_id: string;\r\n  state: string;\r\n  attributes: {\r\n    friendly_name?: string;\r\n    entry_id?: string;\r\n    switch_entity_id?: string;\r\n    instance_title?: string;\r\n    [key: string]: any;\r\n  };\r\n  last_changed: string;\r\n  last_updated: string;\r\n  context: {\r\n    id: string;\r\n    parent_id: string | null;\r\n    user_id: string | null;\r\n  };\r\n}\r\n\r\ninterface HAService {\r\n  description: string;\r\n  fields: {\r\n    [field: string]: {\r\n      description: string;\r\n      example: string;\r\n    };\r\n  };\r\n}\r\n\r\ninterface HomeAssistant {\r\n  states: {\r\n    [entityId: string]: HAState;\r\n  };\r\n  services: {\r\n    notify?: { [service: string]: HAService };\r\n    switch?: { [service: string]: HAService };\r\n    [domain: string]: { [service: string]: HAService } | undefined;\r\n  };\r\n  callService(domain: string, service: string, data?: Record<string, unknown>): Promise<void>;\r\n  callApi<T = unknown>(method: 'GET' | 'POST' | 'PUT' | 'DELETE', path: string, parameters?: Record<string, unknown>, headers?: Record<string, string>): Promise<T>;\r\n  config: {\r\n    components: {\r\n      [domain: string]: {\r\n        config_entries: { [entry_id: string]: unknown };\r\n      };\r\n    };\r\n    [key: string]: any;\r\n  };\r\n}\r\n\r\ninterface HAConfigEntry {\r\n  entry_id: string;\r\n  title: string;\r\n  domain: string;\r\n}\r\n\r\ninterface HAConfigEntriesByDomainResponse {\r\n  entry_by_domain: {\r\n    [domain: string]: HAConfigEntry[];\r\n  };\r\n}\r\n\r\nconst ATTR_INSTANCE_TITLE = \"instance_title\";\r\nconst DOMAIN = \"simple_timer\";\r\nconst DEFAULT_TIMER_BUTTONS = [15, 30, 60, 90, 120, 150]; // Default for new cards only\r\n\r\nclass TimerCardEditor extends LitElement {\r\n  static properties = {\r\n    hass: { type: Object },\r\n    _config: { type: Object },\r\n  };\r\n\r\n  hass?: HomeAssistant;\r\n  _config: TimerCardConfig;\r\n  _configFullyLoaded: boolean = false; // Track if we've received a complete config\r\n\r\n  private _timerInstancesOptions: Array<{ value: string; label: string }> = [];\r\n\r\n  constructor() {\r\n    super();\r\n    this._config = {\r\n      type: \"custom:timer-card\",\r\n      timer_buttons: [...DEFAULT_TIMER_BUTTONS], // Use centralized default\r\n      notification_entity: null,\r\n      timer_instance_id: null,\r\n      card_title: null,\r\n      show_seconds: false\r\n    };\r\n  }\r\n\r\n  async _getSimpleTimerInstances(): Promise<Array<{ value: string; label: string }>> {\r\n    if (!this.hass || !this.hass.states) {\r\n      console.warn(\"TimerCardEditor: hass.states not available when trying to fetch instances from states.\");\r\n      return [];\r\n    }\r\n\r\n    const instancesMap = new Map<string, { value: string; label: string }>();\r\n\r\n    for (const entityId in this.hass.states) {\r\n      const state = this.hass.states[entityId];\r\n      \r\n      // UPDATED: Look for sensors that have the required simple timer attributes\r\n      // The entity name format is now: \"[Instance Name] Runtime ([entry_id_short])\"\r\n      if (entityId.startsWith('sensor.') &&\r\n          entityId.includes('runtime') &&  // Runtime sensors contain 'runtime' in their ID\r\n          state.attributes.entry_id &&\r\n          typeof state.attributes.entry_id === 'string' &&\r\n          state.attributes.switch_entity_id &&\r\n          typeof state.attributes.switch_entity_id === 'string'\r\n         ) {\r\n        const entryId = state.attributes.entry_id;\r\n        const instanceTitle = state.attributes[ATTR_INSTANCE_TITLE]; \r\n\r\n        let instanceLabel = `Timer Control (${entryId.substring(0, 8)})`;\r\n\r\n        console.debug(`TimerCardEditor: Processing sensor ${entityId} (Entry: ${entryId})`);\r\n        console.debug(`TimerCardEditor: Found raw attribute '${ATTR_INSTANCE_TITLE}': ${instanceTitle}`);\r\n        console.debug(`TimerCardEditor: Type of raw attribute: ${typeof instanceTitle}`);\r\n\r\n        if (instanceTitle && typeof instanceTitle === 'string' && instanceTitle.trim() !== '') {\r\n            instanceLabel = instanceTitle.trim();\r\n            console.debug(`TimerCardEditor: Using '${ATTR_INSTANCE_TITLE}' for label: \"${instanceLabel}\"`);\r\n        } else {\r\n            console.warn(`TimerCardEditor: Sensor '${entityId}' has no valid '${ATTR_INSTANCE_TITLE}' attribute. Falling back to entry ID based label: \"${instanceLabel}\".`);\r\n        }\r\n        \r\n        if (!instancesMap.has(entryId)) {\r\n          instancesMap.set(entryId, { value: entryId, label: instanceLabel });\r\n          console.debug(`TimerCardEditor: Added instance: ${instanceLabel} (${entryId}) from sensor: ${entityId}`);\r\n        } else {\r\n            console.debug(`TimerCardEditor: Skipping duplicate entry_id: ${entryId}`);\r\n        }\r\n      }\r\n    }\r\n\r\n    const instances = Array.from(instancesMap.values());\r\n    instances.sort((a, b) => a.label.localeCompare(b.label));\r\n\r\n    if (instances.length === 0) {\r\n        console.info(`TimerCardEditor: No Simple Timer integration instances found by scanning hass.states.`);\r\n    } else {\r\n        console.info(\"TimerCardEditor: Found Simple Timer instances by scanning states:\", instances);\r\n    }\r\n    return instances;\r\n  }\r\n\r\n  _getNotificationServiceTargets(): Array<{ value: string; label: string }> {\r\n    if (!this.hass || !this.hass.services) {\r\n      return [];\r\n    }\r\n    const targets: Array<{ value: string; label: string }> = [];\r\n\r\n    if (this.hass.services.notify) {\r\n      for (const serviceName in this.hass.services.notify) {\r\n        if (serviceName !== \"send\" && !serviceName.includes(\"_all\") && !serviceName.includes(\"_group\")) {\r\n          const friendlyName = this.hass.services.notify[serviceName]?.description || serviceName;\r\n          targets.push({ value: `notify.${serviceName}`, label: friendlyName });\r\n        }\r\n      }\r\n    }\r\n\r\n    for (const domain in this.hass.services) {\r\n      if (domain.includes(\"telegram\") || domain.includes(\"mobile_app\")) {\r\n        const domainServices = this.hass.services[domain];\r\n        for (const serviceName in domainServices) {\r\n          if (serviceName.includes(\"send\") || serviceName.includes(\"message\") || serviceName.includes(\"notify\")) {\r\n            const fullService = `${domain}.${serviceName}`;\r\n            if (!targets.some(t => t.value === fullService)) {\r\n                const friendlyName = domainServices[serviceName]?.description || fullService;\r\n                targets.push({ value: fullService, label: friendlyName });\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    targets.sort((a, b) => a.label.localeCompare(b.label));\r\n    return targets;\r\n  }\r\n\r\n  /**\r\n   * 🔧 FIX: Validation logic that allows empty timer buttons (optional)\r\n   */\r\n  _getValidatedTimerButtons(configButtons: any): number[] {\r\n    // Case 1: configButtons is a valid array (could be empty)\r\n    if (Array.isArray(configButtons)) {\r\n        const validatedButtons: number[] = [];\r\n        \r\n        configButtons.forEach(val => {\r\n            const numVal = Number(val);\r\n            if (Number.isInteger(numVal) && numVal > 0 && numVal <= 1000) {\r\n                validatedButtons.push(numVal);\r\n            }\r\n        });\r\n\r\n        validatedButtons.sort((a, b) => a - b);\r\n        console.log(`TimerCardEditor: Using ${validatedButtons.length} timer buttons from config:`, validatedButtons);\r\n        return validatedButtons; // Could be empty array - that's OK!\r\n    }\r\n\r\n    // Case 2: configButtons is undefined/null - use defaults ONLY for new cards\r\n    if (configButtons === undefined || configButtons === null) {\r\n        console.log(`TimerCardEditor: No timer_buttons in config, using defaults for new card:`, DEFAULT_TIMER_BUTTONS);\r\n        return [...DEFAULT_TIMER_BUTTONS];\r\n    }\r\n\r\n    // Case 3: configButtons is not an array - treat as invalid, use empty\r\n    console.warn(`TimerCardEditor: Invalid timer_buttons type (${typeof configButtons}):`, configButtons, `- using empty array`);\r\n    return []; // Return empty array for invalid non-array values\r\n  }\r\n\r\n  async setConfig(cfg: TimerCardConfig): Promise<void> {\r\n    console.log(`TimerCardEditor: setConfig called with:`, cfg);\r\n    const oldConfig = { ...this._config };\r\n\r\n    // 🔧 FIX: Use centralized validation logic\r\n    const timerButtonsToSet = this._getValidatedTimerButtons(cfg.timer_buttons);\r\n\r\n    const newConfigData: TimerCardConfig = {\r\n      type: cfg.type || \"custom:timer-card\",\r\n      timer_buttons: timerButtonsToSet,\r\n      card_title: cfg.card_title || null,\r\n      show_seconds: cfg.show_seconds || false\r\n    };\r\n\r\n    // SIMPLIFIED: Just preserve the timer_instance_id as-is from the config\r\n    // Don't do any auto-selection here - let _fetchTimerInstances handle that\r\n    if (cfg.timer_instance_id) {\r\n        newConfigData.timer_instance_id = cfg.timer_instance_id;\r\n        console.info(`TimerCardEditor: setConfig PRESERVING existing timer_instance_id: '${cfg.timer_instance_id}'`);\r\n    } else {\r\n        console.info(`TimerCardEditor: setConfig - no timer_instance_id in config, will be auto-selected later`);\r\n    }\r\n\r\n    // Preserve other legacy config fields if they exist\r\n    if (cfg.entity) newConfigData.entity = cfg.entity;\r\n    if (cfg.sensor_entity) newConfigData.sensor_entity = cfg.sensor_entity;\r\n    if (cfg.notification_entity) newConfigData.notification_entity = cfg.notification_entity;\r\n\r\n    // IMPORTANT: Set the config immediately, don't use setTimeout tricks\r\n    this._config = newConfigData;\r\n    \r\n    // Mark that we've received a complete config (this prevents premature auto-selection)\r\n    this._configFullyLoaded = true;\r\n    \r\n    console.log(`TimerCardEditor: setConfig result:`, this._config);\r\n    \r\n    // Only dispatch if config actually changed\r\n    if (JSON.stringify(oldConfig) !== JSON.stringify(this._config)) {\r\n        console.log(`TimerCardEditor: Config changed, dispatching config-changed event`);\r\n        this.dispatchEvent(\r\n            new CustomEvent(\"config-changed\", { detail: { config: this._config } })\r\n        );\r\n    } else {\r\n        console.log(`TimerCardEditor: Config unchanged, not dispatching event`);\r\n    }\r\n    \r\n    this.requestUpdate();\r\n  }\r\n\r\n  get _schema(): any[] {\r\n    const timerInstances = this._timerInstancesOptions || [];\r\n    const notificationServiceTargets = this._getNotificationServiceTargets();\r\n\r\n    const instanceOptions = timerInstances.length > 0\r\n        ? timerInstances\r\n        : [{ value: \"none_found\", label: \"No Simple Timer Instances Found\" }];\r\n\r\n    const notificationOptions = [{ value: \"none_selected\", label: \"None\" }];\r\n    notificationServiceTargets.forEach(target => notificationOptions.push(target));\r\n\r\n    return [\r\n      {\r\n        name: \"card_title\",\r\n        label: \"Card Title (Optional)\",\r\n        selector: {\r\n          text: {\r\n            type: \"text\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        name: \"timer_instance_id\",\r\n        label: \"Simple Timer Instance\",\r\n        required: true,\r\n        selector: {\r\n          select: {\r\n            options: instanceOptions,\r\n            mode: \"dropdown\",\r\n          },\r\n        },\r\n      },\r\n      {\r\n        name: \"show_seconds\",\r\n        label: \"Show Seconds in Daily Usage\",\r\n        selector: {\r\n          boolean: {}\r\n        }\r\n      },\r\n      {\r\n        name: \"notification_entity\",\r\n        label: \"Notification Service Target (Optional)\",\r\n        selector: {\r\n          select: {\r\n            options: notificationOptions,\r\n            custom_value: false,\r\n          },\r\n        },\r\n      },\r\n    ];\r\n  }\r\n\r\n  connectedCallback() {\r\n      super.connectedCallback();\r\n      if (this.hass) {\r\n          this._fetchTimerInstances();\r\n      } else {\r\n          console.warn(\"TimerCardEditor: hass not available on connectedCallback. Deferring instance fetch.\");\r\n      }\r\n  }\r\n\r\n  updated(changedProperties: Map<string | number | symbol, unknown>): void {\r\n      super.updated(changedProperties);\r\n      if (changedProperties.has(\"hass\") && this.hass) {\r\n          if ((changedProperties.get(\"hass\") as any)?.states !== this.hass.states || this._timerInstancesOptions.length === 0) {\r\n               console.log(\"TimerCardEditor: hass.states changed or instances not yet fetched, re-fetching instances.\");\r\n               this._fetchTimerInstances();\r\n          }\r\n      }\r\n  }\r\n\r\n  async _fetchTimerInstances() {\r\n      if (this.hass) {\r\n          console.log(`TimerCardEditor: _fetchTimerInstances called. Config loaded: ${this._configFullyLoaded}, Current config timer_instance_id: '${this._config?.timer_instance_id}'`);\r\n          \r\n          this._timerInstancesOptions = await this._getSimpleTimerInstances();\r\n          console.log(`TimerCardEditor: Found ${this._timerInstancesOptions.length} instances:`, this._timerInstancesOptions);\r\n          \r\n          // CRITICAL: Only allow auto-selection if we're sure the config is fully loaded\r\n          // This prevents overriding user selections when the editor is re-opened\r\n          if (!this._configFullyLoaded) {\r\n              console.info(`TimerCardEditor: Config not fully loaded yet, skipping any auto-selection logic`);\r\n              this.requestUpdate();\r\n              return;\r\n          }\r\n          \r\n          // AUTO-SELECT: Only auto-select if NO instance is currently configured\r\n          // AND instances are available. Don't override existing valid selections.\r\n          const hasNoInstanceConfigured = !this._config?.timer_instance_id || \r\n                                        this._config.timer_instance_id === \"none_found\" ||\r\n                                        this._config.timer_instance_id === \"\";\r\n          const hasAvailableInstances = this._timerInstancesOptions.length > 0;\r\n          \r\n          console.log(`TimerCardEditor: hasNoInstanceConfigured: ${hasNoInstanceConfigured}, hasAvailableInstances: ${hasAvailableInstances}`);\r\n          \r\n          if (hasNoInstanceConfigured && hasAvailableInstances) {\r\n              const firstInstance = this._timerInstancesOptions[0];\r\n              console.info(`TimerCardEditor: AUTO-SELECTING first available instance (no valid instance configured): '${firstInstance.value}' (${firstInstance.label})`);\r\n              \r\n              // Update the config to include the auto-selected instance\r\n              const updatedConfig: TimerCardConfig = {\r\n                  ...this._config,\r\n                  timer_instance_id: firstInstance.value\r\n              };\r\n              \r\n              this._config = updatedConfig;\r\n              this.dispatchEvent(\r\n                  new CustomEvent(\"config-changed\", {\r\n                      detail: { config: this._config },\r\n                      bubbles: true,\r\n                      composed: true,\r\n                  }),\r\n              );\r\n          } else if (this._config?.timer_instance_id && hasAvailableInstances) {\r\n              // Verify that the currently configured instance still exists\r\n              const currentInstanceExists = this._timerInstancesOptions.some(\r\n                  instance => instance.value === this._config!.timer_instance_id\r\n              );\r\n              \r\n              if (!currentInstanceExists) {\r\n                  console.warn(`TimerCardEditor: Previously configured instance '${this._config.timer_instance_id}' no longer exists. Auto-selecting first available instance.`);\r\n                  const firstInstance = this._timerInstancesOptions[0];\r\n                  \r\n                  const updatedConfig: TimerCardConfig = {\r\n                      ...this._config,\r\n                      timer_instance_id: firstInstance.value\r\n                  };\r\n                  \r\n                  this._config = updatedConfig;\r\n                  this.dispatchEvent(\r\n                      new CustomEvent(\"config-changed\", {\r\n                          detail: { config: this._config },\r\n                          bubbles: true,\r\n                          composed: true,\r\n                      }),\r\n                  );\r\n              } else {\r\n                  console.info(`TimerCardEditor: PRESERVING existing valid instance: '${this._config.timer_instance_id}'`);\r\n              }\r\n          } else if (!hasAvailableInstances) {\r\n              console.warn(`TimerCardEditor: No simple timer instances found.`);\r\n          }\r\n          \r\n          this.requestUpdate();\r\n      }\r\n  }\r\n\r\n  _allTimerOptions: number[] = [1, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165, 180];\r\n\r\n  _handleTimerCheckboxChange(event: Event): void {\r\n    const inputElement = event.target as HTMLInputElement;\r\n    const value = parseInt(inputElement.value);\r\n    const isChecked = inputElement.checked;\r\n    let currentButtons = Array.isArray(this._config?.timer_buttons) ? [...this._config!.timer_buttons] : [];\r\n\r\n    if (isChecked) {\r\n      if (!currentButtons.includes(value)) {\r\n        currentButtons.push(value);\r\n      }\r\n    } else {\r\n      currentButtons = currentButtons.filter(button => button !== value);\r\n    }\r\n\r\n    // 🔧 FIX: Allow empty arrays - timer buttons are optional\r\n    currentButtons.sort((a, b) => a - b);\r\n\r\n    const updatedConfig: TimerCardConfig = {\r\n        type: this._config!.type,\r\n        timer_buttons: currentButtons, // Could be empty - that's OK!\r\n        show_seconds: this._config!.show_seconds || false\r\n    };\r\n    if (this._config?.timer_instance_id) updatedConfig.timer_instance_id = this._config.timer_instance_id;\r\n    if (this._config?.entity) updatedConfig.entity = this._config.entity;\r\n    if (this._config?.sensor_entity) updatedConfig.sensor_entity = this._config.sensor_entity;\r\n    if (this._config?.notification_entity) updatedConfig.notification_entity = this._config.notification_entity;\r\n    if (this._config?.card_title) updatedConfig.card_title = this._config.card_title;\r\n\r\n    this._config = updatedConfig;\r\n    this.dispatchEvent(\r\n      new CustomEvent(\"config-changed\", {\r\n        detail: { config: this._config },\r\n        bubbles: true,\r\n        composed: true,\r\n      }),\r\n    );\r\n    this.requestUpdate();\r\n  }\r\n\r\n  render() {\r\n    if (!this.hass) return html``;\r\n\r\n    return html`\r\n      <ha-form\r\n        .hass=${this.hass}\r\n        .data=${this._config}\r\n        .schema=${this._schema}\r\n        @value-changed=${this._valueChanged}\r\n      ></ha-form>\r\n\r\n      <div class=\"card-config-group\">\r\n        <h3>Select your timers (Minutes)</h3>\r\n        <div class=\"checkbox-grid\">\r\n          ${this._allTimerOptions.map(value => html`\r\n            <label class=\"checkbox-label\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value=\"${value}\"\r\n                .checked=${Array.isArray(this._config?.timer_buttons) && this._config!.timer_buttons.includes(value)}\r\n                @change=${this._handleTimerCheckboxChange}\r\n              >\r\n              ${value}\r\n            </label>\r\n          `)}\r\n        </div>\r\n        <div class=\"timer-buttons-info\">\r\n          <p><strong>Current buttons:</strong> ${this._config?.timer_buttons?.length ? this._config.timer_buttons.join(', ') : 'None'}</p>\r\n          ${!this._config?.timer_buttons?.length ? html`\r\n            <p class=\"info-text\">ℹ️ No timer buttons selected. Only power toggle and daily usage will be shown.</p>\r\n          ` : ''}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  _valueChanged(ev: CustomEvent): void {\r\n    ev.stopPropagation();\r\n    const newFormValues = ev.detail.value;\r\n\r\n    if (!this._config) {\r\n      console.warn(\"TimerCardEditor: _config is null in _valueChanged, deferring update.\");\r\n      return;\r\n    }\r\n\r\n    const updatedConfig: TimerCardConfig = {\r\n        type: newFormValues.type || this._config.type || \"custom:timer-card\",\r\n        timer_buttons: this._config.timer_buttons,\r\n        show_seconds: newFormValues.show_seconds !== undefined ? newFormValues.show_seconds : (this._config.show_seconds || false)\r\n    };\r\n\r\n    if (newFormValues.timer_instance_id && newFormValues.timer_instance_id !== \"none_found\") {\r\n        updatedConfig.timer_instance_id = newFormValues.timer_instance_id;\r\n    } else {\r\n        delete updatedConfig.timer_instance_id;\r\n    }\r\n\r\n    if (this._config.entity) updatedConfig.entity = this._config.entity;\r\n    if (this._config.sensor_entity) updatedConfig.sensor_entity = this._config.sensor_entity;\r\n\r\n    if (newFormValues.notification_entity && newFormValues.notification_entity !== \"none_selected\") {\r\n        updatedConfig.notification_entity = newFormValues.notification_entity;\r\n    } else if (newFormValues.notification_entity === \"none_selected\") {\r\n        delete updatedConfig.notification_entity;\r\n    } else if (this._config.notification_entity) {\r\n        updatedConfig.notification_entity = this._config.notification_entity;\r\n    }\r\n\r\n    // Handle card_title from newFormValues\r\n    if (newFormValues.card_title && newFormValues.card_title !== '') {\r\n        updatedConfig.card_title = newFormValues.card_title;\r\n    } else {\r\n        delete updatedConfig.card_title;\r\n    }\r\n\r\n    if (JSON.stringify(this._config) !== JSON.stringify(updatedConfig)) {\r\n        this._config = updatedConfig;\r\n        this.dispatchEvent(\r\n            new CustomEvent(\"config-changed\", {\r\n                detail: { config: this._config },\r\n                bubbles: true,\r\n                composed: true,\r\n            }),\r\n        );\r\n        this.requestUpdate();\r\n    }\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      .card-config-group {\r\n        padding: 16px;\r\n        background-color: var(--card-background-color);\r\n        border-top: 1px solid var(--divider-color);\r\n        margin-top: 16px;\r\n      }\r\n      h3 {\r\n        margin-top: 0;\r\n        margin-bottom: 16px;\r\n        font-size: 1.1em;\r\n        font-weight: normal;\r\n        color: var(--primary-text-color);\r\n      }\r\n      .checkbox-grid {\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));\r\n        gap: 8px 16px;\r\n        margin-bottom: 16px;\r\n      }\r\n      @media (min-width: 400px) {\r\n        .checkbox-grid {\r\n          grid-template-columns: repeat(5, 1fr);\r\n        }\r\n      }\r\n      .checkbox-label {\r\n        display: flex;\r\n        align-items: center;\r\n        cursor: pointer;\r\n        color: var(--primary-text-color);\r\n      }\r\n      .checkbox-label input[type=\"checkbox\"] {\r\n        margin-right: 8px;\r\n        min-width: 20px;\r\n        min-height: 20px;\r\n      }\r\n      .timer-buttons-info {\r\n        padding: 12px;\r\n        background-color: var(--secondary-background-color);\r\n        border-radius: 8px;\r\n        border: 1px solid var(--divider-color);\r\n      }\r\n      .timer-buttons-info p {\r\n        margin: 4px 0;\r\n        font-size: 14px;\r\n        color: var(--primary-text-color);\r\n      }\r\n      .warning-text {\r\n        color: var(--warning-color);\r\n        font-weight: bold;\r\n      }\r\n      .info-text {\r\n        color: var(--primary-text-color);\r\n        font-style: italic;\r\n      }\r\n    `;\r\n  }\r\n}\r\n\r\ncustomElements.define(\"timer-card-editor\", TimerCardEditor);"],"names":["t","globalThis","e","ShadowRoot","ShadyCSS","nativeShadow","Document","prototype","CSSStyleSheet","s","Symbol","o","WeakMap","n$2","constructor","this","_$cssResult$","Error","cssText","styleSheet","length","get","replaceSync","set","toString","i","reduce","n","c","cssRules","r","is","defineProperty","getOwnPropertyDescriptor","h","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","Object","a","trustedTypes","l","emptyScript","p","reactiveElementPolyfillSupport","d","u","toAttribute","Boolean","Array","JSON","stringify","fromAttribute","Number","parse","f","b","attribute","type","String","converter","reflect","useDefault","hasChanged","metadata","litPropertyMetadata","y$1","HTMLElement","addInitializer","_$Ei","push","observedAttributes","finalize","_$Eh","keys","createProperty","state","hasOwnProperty","create","wrapped","elementProperties","noAccessor","getPropertyDescriptor","call","requestUpdate","configurable","enumerable","getPropertyOptions","Map","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","Set","flat","reverse","unshift","toLowerCase","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$ES","Promise","enableUpdating","_$AL","_$E_","forEach","addController","_$EO","add","renderRoot","isConnected","hostConnected","removeController","delete","size","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","adoptedStyleSheets","map","document","createElement","litNonce","setAttribute","textContent","appendChild","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$ET","removeAttribute","_$Ej","hasAttribute","C","_$EP","has","_$Eq","reject","scheduleUpdate","performUpdate","shouldUpdate","willUpdate","hostUpdate","update","_$EM","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","y","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","Math","random","toFixed","slice","createComment","v","_","m","RegExp","g","$","x","_$litType$","strings","values","T","for","E","A","createTreeWalker","P","V","lastIndex","exec","test","startsWith","N","parts","el","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","split","index","name","ctor","H","I","L","k","tagName","append","data","indexOf","innerHTML","S","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","M","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","R","nextSibling","z","_$AI","_$Cv","_$AH","_$AA","_$AB","options","startNode","endNode","_$AR","iterator","O","insertBefore","createTextNode","_$AC","_$AP","remove","setConnected","element","fill","j","arguments","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","DOMAIN","DEFAULT_TIMER_BUTTONS","console","info","customElements","define","_countdownInterval","_liveRuntimeSeconds","_timeRemaining","buttons","_validationMessage","_notificationSentForCurrentCycle","_entitiesLoaded","_effectiveSwitchEntity","_effectiveSensorEntity","hass","_config","getConfigElement","resolve","then","timerCardEditor","getStubConfig","log","initialInstanceId","entityId","states","attributes","entry_id","switch_entity_id","timer_instance_id","timer_buttons","card_title","show_seconds","setConfig","cfg","_getValidatedTimerButtons","entity","sensor_entity","notification_entity","configButtons","validatedTimerButtons","invalidValues","val","numVal","isInteger","join","sort","warn","_determineEffectiveEntities","currentSwitch","currentSensor","entitiesAreValid","_a","targetEntryId","instanceSensor","filter","find","_b","sensorState","autoDetectedSensorKey","_getEntryId","error","sensor","_sendNotification","message","callService","serviceParts","domain","service","catch","_startTimer","minutes","entryId","switchId","entity_id","duration","_cancelTimer","_sendTimerFinishedNotification","_togglePower","timerSwitch","_showMoreInfo","sensorId","event","CustomEvent","bubbles","composed","detail","dispatchEvent","_updateLiveRuntime","_updateCountdown","_stopCountdown","_stopLiveRuntime","changedProperties","timer_state","rawFinish","timer_finishes_at","undefined","finishesAt","Date","getTime","now","remaining","max","round","floor","padStart","finalSensorState","committedSeconds","parseFloat","totalMinutes","formattedDailyUsage","window","setInterval","clearInterval","isWarning","configuredSensorState","html","isOn","isTimerActive","timerDurationInMinutes","timer_duration","isManualOn","formattedTime","runtimeLabel","totalSecondsForDisplay","_c","totalSecondsInt","hours","seconds","watchdogMessage","watchdog_message","_d","_e","isActive","isDisabled","css","customCards","description","ATTR_INSTANCE_TITLE","TimerCardEditor","_configFullyLoaded","_timerInstancesOptions","_allTimerOptions","_getSimpleTimerInstances","instancesMap","includes","instanceTitle","instanceLabel","substring","debug","trim","value","label","instances","from","localeCompare","_getNotificationServiceTargets","services","targets","notify","serviceName","friendlyName","domainServices","fullService","some","validatedButtons","oldConfig","assign","timerButtonsToSet","newConfigData","config","_schema","timerInstances","notificationServiceTargets","instanceOptions","notificationOptions","target","selector","text","required","select","boolean","custom_value","_fetchTimerInstances","hasNoInstanceConfigured","hasAvailableInstances","firstInstance","updatedConfig","instance","_handleTimerCheckboxChange","inputElement","parseInt","isChecked","checked","currentButtons","button","_f","_valueChanged","ev","stopPropagation","newFormValues"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}